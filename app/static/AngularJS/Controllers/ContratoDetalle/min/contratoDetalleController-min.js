appControllers.controller("contratoDetalleController",function(e,o,t,n,a,r,l){e.init=function(){e.detalle=r.detalle,d()};var i=function(o){l.cargaInfoCliente(o).then(function t(o){e.datosCliente=o.data},function n(e){a.error("No se pudieron obtener los Contratos: "+e.data.message)})};e.generarPdf=function(){e.idcontrato=t.contratoObj.idContrato,n.generarPdf(e.idcontrato).then(function o(t){a.success("Success genero el pdf"),e.url=t.config.url,window.open(e.url+"?idContrato="+e.idcontrato,"ventana1","width=700,height=600,scrollbars=NO")},function r(e){a.error("No se pudo crear el pdf ")})},e.verDetalleCliente=function(e){n.obtieneDetalleCliente(e).then(function o(e){r.detalleCliente=e.data},function t(e){a.error("No se pudieron obtener datos del Cliente: "+e.data.message)})};var d=function(){e.idcontrato=t.contratoObj.idContrato,e.idcliente=t.contratoObj.idCliente,e.idempresa=t.contratoObj.idEmpresa,n.detallePagoDocumentos(e.idcliente,e.idempresa).then(function o(t){a.success("Detalle Documentos Pagados"),e.listaPagados=t.data,n.detalleNoPagados(e.idcliente,e.idempresa).then(function r(o){a.success("Detalle Documentos No Pagados"),e.listaNoPagados=o.data,setTimeout(function(){$(".estiloTabla").DataTable({})},100)},function l(e){a.error("No se pudo obtener el detalle de los Documentos No Pagados")})},function r(e){a.error("No se pudo obtener el detalle de los Documentos Pagados")})}});