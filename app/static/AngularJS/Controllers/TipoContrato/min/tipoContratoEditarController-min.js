appControllers.controller("tipoContratoEditarController",function(o,t,a,r,n,e){o.init=function(){c(),o.opcion=e.opcion,o.tipoContratoEditar=e.tipoContratoEditar,null!=e.tipoContratoEditar?(n.success(e.tipoContratoEditar.idTipoContrato),o.contratoEditar=e.tipoContratoEditar,o.contratoEditar.fechaCreacion=a("date")(o.contratoEditar.fechaCreacion,"dd/MM/yyyy"),o.contratoEditar.fechaTermino=a("date")(o.contratoEditar.fechaTermino,"dd/MM/yyyy")):o.contratoEditar={idTipoContrato:"",nombreContrato:"",descripcion:"",fechaCreacion:"",fechaTermino:""},$(".datepicker").datepicker({})},o.EditarTipo=function(a){null!=o.contratoEditar.nombreContrato&&null!=o.contratoEditar.descripcion&&null!=o.contratoEditar.fechaTermino&&null!=o.contratoEditar.fechaCreacion&&""!=o.contratoEditar.nombreContrato&&""!=o.contratoEditar.descripcion&&""!=o.contratoEditar.fechaTermino&&""!=o.contratoEditar.fechaCreacion?r.editarTipoContrato(o.contratoEditar).then(function e(r){n.success("Update realizado correctamente."),o.resultado=r.data,o.SeleccionDocumentos(a),t.go("home")},function c(o){n.error("Error al editar el Tipo contrato: "+o.data.message)}):n.success("Llene todos los campos")},o.CrearTipo=function(a){r.insertarTipoContrato(o.contratoEditar).then(function e(r){n.success("Nuevo Tipo Contrato correctamente."),o.idTipoContrato=r.data[0][""],o.cargarDocumentos(a,o.idTipoContrato),t.go("home")},function c(o){n.error("Error al editar el Tipo contrato: "+o.data.message)})};var c=function(){r.obtieneListaDocumentos(0).then(function t(a){n.success("Lista de documentos obtenidos correctamente. "),o.listaDocumentos=a.data},function a(o){n.error("No se pudieron obtener la lista de Documentos: "+o.data.message)})};o.SeleccionDocumentos=function(t){o.contadorSeleccionado=0,angular.forEach(o.listaDocumentos,function(t,a){1==t.seleccionado&&(r.TipoDocumento(t.idDocumento,o.tipoContratoEditar.idTipoContrato).then(function e(t){n.success("Update realizado correctamente."),o.resultado=t.data},function c(o){n.error("Error al subir documentos: ")}),o.contadorSeleccionado++)})},o.cargarDocumentos=function(t,a){o.contadorSeleccionado=0,angular.forEach(o.listaDocumentos,function(t,e){1==t.seleccionado&&(r.TipoDocumento(t.idDocumento,a).then(function c(t){n.success("Update realizado correctamente."),o.resultado=t.data},function i(o){n.error("Error al subir documentos: ")}),o.contadorSeleccionado++)})},o.Regresar=function(){t.go("home")}});